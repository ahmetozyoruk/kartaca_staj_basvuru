# traefik.yml

api:
  dashboard: true

entryPoints:
  http:
    address: ":80"

providers:
  docker:
    exposedByDefault: false

http:
  routers:
    pythonapp:
      rule: "Host(`kartaca.localhost`) && PathPrefix(`/pythonapp`)"
      service: "pythonapp-service"
      
    grafana:
      rule: "Host(`kartaca.localhost`) && Path(`/grafana`)"
      service: "grafana-service"

  services:
    pythonapp-service:
      loadBalancer:
        servers:
          - url: "localhost:4444/staj"

    grafana-service:
      loadBalancer:
        servers:
          - url: "localhost:3000"
